<html>

<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <script type="text/javascript" src="http://www.google.com/jsapi"></script>
<script type="text/javascript">google.load("jquery","1");</script>
	<title>及時天氣資訊</title>
    <script src="js/aj-address.js" type="text/javascript"></script>
    <script src="js/jquery.js" type="text/javascript"></script>
    <link type="text/css" rel="stylesheet" href="assign3.css">

    

</head>

<body onload="init_address();">
    <h1>功能一：直接點選</h1>
<div id="method1">
        <div onClick=displayresult(this.id) id="2306188">七堵</div>
        <div onClick=displayresult(this.id) id="2306229">三灣</div>
        <div onClick=displayresult(this.id) id="2306228">三芝</div>
        <div onClick=displayresult(this.id) id="2306184">中壢</div>
        <div onClick=displayresult(this.id) id="2306195">二林</div>
        <div onClick=displayresult(this.id) id="2306193">佳里</div>
        <div onClick=displayresult(this.id) id="2306179">內湖</div>
        <div onClick=displayresult(this.id) id="2306204">南投市</div>
        <div onClick=displayresult(this.id) id="2306243">南澳</div>
        <div onClick=displayresult(this.id) id="2306190">台東市</div>
        <div onClick=displayresult(this.id) id="2306209">大園</div>
        <div onClick=displayresult(this.id) id="2306210">大甲</div>
        <div onClick=displayresult(this.id) id="2306182">安平</div>
        <div onClick=displayresult(this.id) id="2306198">宜蘭市</div>
        <div onClick=displayresult(this.id) id="2306189">屏東市</div>
        <div onClick=displayresult(this.id) id="2306199">岡山</div>
        <div onClick=displayresult(this.id) id="2306180">左營</div>
        <div onClick=displayresult(this.id) id="2306206">布袋</div>
        <div onClick=displayresult(this.id) id="2306183">彰化市</div>
        <div onClick=displayresult(this.id) id="2306212">斗南</div>
        <div onClick=displayresult(this.id) id="2306217">新化</div>
        <div onClick=displayresult(this.id) id="2306186">新店</div>
        <div onClick=displayresult(this.id) id="2306218">新社</div>
        <div onClick=displayresult(this.id) id="2306185">東區</div>
        <div onClick=displayresult(this.id) id="2306213">東港</div>
        <div onClick=displayresult(this.id) id="2306224">枋山</div>
        <div onClick=displayresult(this.id) id="2306254">桃園機場</div>
        <div onClick=displayresult(this.id) id="2306211">淡水</div>
        <div onClick=displayresult(this.id) id="2306194">清水</div>
        <div onClick=displayresult(this.id) id="2306232">玉井</div>
        <div onClick=displayresult(this.id) id="2306207">石岡</div>
        <div onClick=displayresult(this.id) id="2306187">花蓮市</div>
        <div onClick=displayresult(this.id) id="2306231">萬里</div>
        <div onClick=displayresult(this.id) id="2306208">蘇澳</div>
        <div onClick=displayresult(this.id) id="2306250">虎尾</div>
        <div onClick=displayresult(this.id) id="2306181">西屯</div>
        <div onClick=displayresult(this.id) id="2306200">觀音</div>
        <div onClick=displayresult(this.id) id="2306223">金山</div>
        <div onClick=displayresult(this.id) id="2306227">關山</div>
        <div onClick=displayresult(this.id) id="2306251">雙溪</div>
        <div onClick=displayresult(this.id) id="2306255">高雄機場</div>
        <div onClick=displayresult(this.id) id="2306214">鶯歌</div>
        <div onClick=displayresult(this.id) id="2306201">鹿港</div>
        <div onClick=displayresult(this.id) id="2306203">麻豆</div>
        <div onClick=displayresult(this.id) id="2306202">龍潭</div>


    </div>
    <script type="text/javascript">
    function displayresult(clicked_id){
        $(document).ready(function(){
            var woeid = clicked_id;
            var query = "select * from weather.forecast where woeid =" + woeid;
            var url = "http://query.yahooapis.com/v1/public/yql?format=json&q=" + query;
            //console.log(woeid);
            var getResult = $.getJSON( url, function(data, status){

                console.log("data", data);
                console.log("status", status);

                var item = data.query.results.channel.item;
                var title = item.title;
                var location = item.lat+","+item.long;
                var date = item.pubDate;
                var temp = item.condition.temp;
                var text = item.condition.text;

                $("#result #title").text(title);
                $("#result #location").text(location);
                $("#result #temp").text(temp+"F");
                $("#result #text").text(text);
                $("#result #date").text(date);
            });
        });

    }
        </script></div>
    <div id="method2">
    <h1>功能二：下拉式選單</h1>
	<select id="zone1" name="zone1"></select>
	<select id="zone2" name="zone2"></select>
    </div>

        

	 <div id="result">
    	<h2>Title</h2>
        <div id="title"></div>
        <h2>Date</h2>
        <div id="date"></div>
        <h2>Location</h2>
        <div id="location"></div>
        <h2>Temperature</h2>
        <div id="temp"></div>
        <h2>Text</h2>
        <div id="text"></div>	
    </div>
</body>
</html>